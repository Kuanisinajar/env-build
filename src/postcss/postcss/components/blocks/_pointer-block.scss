.pointer-block {
	@extend %position-absolute;
	@extend %full-width;
	@extend %full-height;
	overflow-x: visible;
	overflow-y: visible;
	top: 0;
	left: 0;
}

.pointer-block__point {
	@extend %position-absolute;
	transform: translate(-15px, -15px);
	width: 30px;
	height: 30px;
	border-radius: 50%;
	border: 4px solid $sub-color;
	animation: ripple 1.7s linear infinite;
	transition: border 0.3s;
	&:before {
		@extend %position-absolute;
		width: 14px;
		height: 14px;
		border-radius: 50%;
		background-color: $main-color;
		top: calc(50% - 7px);
		left: calc(50% - 7px);
		content: '';
		opacity: 0;
		transition: opacity 0.3s;
	}
	&:hover {
		border: 4px solid $main-color;
		animation: ripple-stop 1.7s linear infinite;
		&:before {
			opacity: 1;
		}
		.pointer-block__bubble {
			opacity: 1;
		}
	}
}

@keyframes ripple {
	0% {
		box-shadow: 0 0 0 1px rgba($sub-color, 0.5), 0 0 0 6px rgba($sub-color, 0.3);
	}
	100% {
		box-shadow: 0 0 0 6px rgba($sub-color, 0.3), 0 0 0 14px rgba($sub-color, 0);
	}
}

@keyframes ripple-stop {
	0% {
		box-shadow: 0 0 0 0 rgba($sub-color, 0),
	}
	100% {
		box-shadow: 0 0 0 1px rgba($sub-color, 0),
	}
}

.pointer-block__point--2 {
	@extend %position-absolute;
	transform: translate(-8px, -8px);
	background-color: $blue;
	width: 16px;
	height: 16px;
	border-radius: 50%;
	transition: border 0.3s;
	&:before,
  &:after {
		content: "";
		pointer-events: none;
    display: block;
    width: 120px;
    height: 120px;
    position: absolute;
    top: -52px;
    left: -52px;
    background: rgba($blue,.5);
    border: 1px solid $blue;
    border-radius: 50%;
    z-index: -1;
    animation: sonar-marker-pulse 3s infinite ease-out;
  }
  &:after {
    animation: sonar-marker-pulse-inner 3s infinite ease-out;
  }
	&:hover {
		background-color: $main-color;
		@include media('below-tablet') {
			top: 100%!important;
			left: 50%!important;
			width: 0;
			height: 0;
			transform: translate(0);
			z-index: 10;
		}
		&:before,
		&:after {
			display: none;
		}
		.pointer-block__bubble {
			opacity: 1;
			pointer-events: auto;
		}
	}
}

.pointer-block__bubble {
	@extend %position-absolute;
	@extend %font-m-14;
	opacity: 0;
	padding: 8px;
	background-color: $main-color;
	width: 200px;
	color: $white;
	pointer-events: none;
	left: -18px;
	@include media('above-tablet') {
		transition: opacity 0.3s;
	}
	&[data-bubble-position="top"] {
		bottom: 30px;
	}
	&[data-bubble-position="bottom"] {
		top: 30px;
	}
	@include media('below-tablet') {
		width: 120px;
		left: calc(50% - 60px);
	}
}

@keyframes sonar-marker-pulse {
  0% {
    opacity: .65;
    transform: scale(.1)
  }
  100% {
    opacity: 0;
    transform: scale(1)
  }
}

@keyframes sonar-marker-pulse-inner {
  0% {
    opacity: 0;
    transform: scale(.1)
  }
  24%,90% {
    opacity: 0
  }
  25% {
    opacity: .65;
    transform: scale(.1)
  }
  100% {
    opacity: 0;
    transform: scale(1)
  }
}
